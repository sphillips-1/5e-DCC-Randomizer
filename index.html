<!DOCTYPE HTML>
<html>


<head>
	
	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/GetLootFormula.js" type="text/javascript"></script>
	<script src="js/GetGP.js" type="text/javascript"></script>
	<script src="js/GetArtAndGems.js" type="text/javascript"></script>
	<script src="js/GetMagicItems.js" type="text/javascript"></script>
	
	<meta name="viewport" content="width=device-width, initial-scale=1" /> 
	
	<style>
			body {
			  font-family: "Lato", sans-serif;
			}
			
			.sidenav {
			  height: 100%;
			  width: 160px;
			  position: fixed;
			  z-index: 1;
			  top: 0;
			  left: 0;
			  background-color: #111;
			  overflow-x: hidden;
			  padding-top: 20px;
			}
			
			.sidenav a {
			  padding: 6px 8px 6px 16px;
			  text-decoration: none;
			  font-size: 25px;
			  color: #818181;
			  display: block;
			}
			
			.sidenav a:hover {
			  color: #f1f1f1;
			}
			
			.main {
			  margin-left: 160px; /* Same as the width of the sidenav */
			  font-size: 28px; /* Increased text to enable scrolling */
			  padding: 0px 10px;
			}
			
			@media screen and (max-height: 450px) {
			  .sidenav {padding-top: 15px;}
			  .sidenav a {font-size: 18px;}
			}
			</style>
		</head>
<body>

	<div class="sidenav">
		<a href="#RandomTreasureHoard">Random Treasure Hoard</a>
		<a href="#RandomFantasyRomanceNovel">Random Fantasy Romance Novel</a>
	</div>

	<div class="main">

		<h1>DnD 5E Random Generator</h1>
		<select id="challenge_rating" name="challenge_rating" class="string">
			<option value="Challenge 0-4">Challenge 0-4</option>
			<option value="Challenge 5-10">Challenge 5-10</option>
			<option value="Challenge 11-16">Challenge 11-16</option>
			<option value="Challenge 17+">Challenge 17+</option>
		</select>
		<input type="button" value="Go!" onclick="get_treasure()">

		<div id="output"></div>

	</div>


</body>
</html>
<script>
	
	function get_treasure(){

		//Get Challenge Rating
		var challengeRating = document.getElementById("challenge_rating").value;

		//Get D100 Roll
		var diceRoll = getRandomArbitrary(100);
		
		//Get Currency
		var Currency = GetGP(challengeRating);
		
		//Get Loot Formula
		var LootFormula = GetLootFormula(challengeRating,diceRoll);

		//Get GP from Arts and Gems
		var ArtsAndGemsGP = GetArtAndGems(LootFormula.ArtAndGemsGP);
		
		//Get Magic Items
		var MagicItems = GetMagicItems(LootFormula);



		var output = ["Challenge Rating ["+challengeRating+"]",
			diceRoll,
			"--------------------------",
			"Currency",
			"["+Currency.CP+"] copper pieces, ["+Currency.SP+"] silver pieces, ["+Currency.GP+"] gold pieces, ["+Currency.PP+"] platinum pieces",
			"OR",
			"["+Currency.Total+"] gold pieces",
			"Loot Formula",
			"GP from Art and Gems["+LootFormula.ArtAndGemsGP+"]",
			if(LootFormula.MagicItemDice != ""){"["+LootFormula.MagicItemDice+"] items from ["+LootFormula.MagicItemTable+"]";},
			if(LootFormula.MagicItemDice2 != ""){"["+LootFormula.MagicItemDice2+"] items from ["+LootFormula.MagicItemTable2+"]";},
			"--------------------------",
			"GP from Art and Gems["+ArtsAndGemsGP+"]",
			"--------------------------",
			MagicItems.sort().join("<br>")
			];




		document.getElementById("output").innerHTML =	output;
	  }
	
</script>
