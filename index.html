<!DOCTYPE HTML>
<html>
<head>
	
	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/test.js" type="text/javascript"></script>
	<script src="js/GetLootFormula.js" type="text/javascript"></script>
	

</head>
<body>
    	<h1>DnD 5E Random Treasure Hoard</h1>
	<select id="challenge_rating" name="challenge_rating" onchange="set_field(this);" class="string">
		<option value="Challenge 0-4">Challenge 0-4</option>
		<option value="Challenge 5-10">Challenge 5-10</option>
		<option value="Challenge 11-16">Challenge 11-16</option>
		<option value="Challenge 17+">Challenge 17+</option>
	</select>
    	<input type="button" value="Go!" onclick="get_treasure()">

	<div id="Challenge Rating"></div>
	<div id="Loot Formula"></div>
	<div id="Currency"></div>
	<div id="Art and Gems Currency"></div>
	<div id="Magic Items"></div>


</body>
</html>
<script>
	function get_treasure(){
		
		//Get Challenge Rating
		var challengeRating = document.getElementById("challenge_rating").value;
		document.getElementById("Challenge Rating").innerHTML = "Challenge Rating ["+challengeRating+"]";
		
		//Get D100 Roll
		var diceRoll = getRandomArbitrary(100);
		
		//Get Loot Formula
		var LootFormula = GetLootFormula(challengeRating,diceRoll);
		
		/*
		    object.ArtAndGemsGP="2d4*25";
		    object.MagicItemDice="";
		    object.MagicItemTable="", 
		    object.MagicItemDice2="", 
		    object.MagicItemTable2="";
		*/
		
		document.getElementById("Loot Formula").innerHTML = "GP ["+LootFormula.ArtAndGemsGP()+"]";
		
		
		
		//var lootFormulaObject = {GP:gpFormula, MagicItemFormula:magicItemDice, MagicItemTable:magicItemTable, MagicItemFormula2:magicItemDice2, MagicItemTable2:magicItemTable2};


		/*
		var baseGP = GetBaseGP(ChallengeRatingGP[challengeRating])
		document.getElementById("Currency").innerHTML = "Currency: "+ baseGP[0]+ " <br> Currency Combined:["+ baseGP[1]+ "]";
		var MagicItems = GetMagicItems(LootFormula);
		document.getElementById("Magic Items").innerHTML = "Magic Items [" + MagicItems + "]";
		*/
	  }
	
</script>
